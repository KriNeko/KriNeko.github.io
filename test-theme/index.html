<head>

	<style>
		* {
			margin : 0px;
			padding: 0px;
			box-sizing: border-box;
		}
		html, body {
			width : 100%;
			height: 100%;
		}
		
		body.theme-dark {
			background: #444;
			color: #eee;
		}
		body.theme-light {
			background: #eee;
			color: #444;
		}
	</style>

</head>
<script>
document.write(`<body class="theme-${ localStorage.theme ?? 'dark' }" >`)
</script>

	<main>
		<h1>Content...</h1>
		<button id="btn" >Toggle theme</button>
	</main>

	<script>
	/** main script */
	btn.addEventListener('click', () => {
		localStorage.theme = ({
			dark: 'light',
			light: 'dark',
		})[ localStorage.theme ?? 'dark' ] ?? 'dark'
		
		const { body } = document
		;[...body.classList]
			.filter(c => /theme[-]/.test(c))
			.map(c => body.classList.remove(c))
		body.classList.add(`theme-${ localStorage.theme }`)
	})
	</script>

</body>
